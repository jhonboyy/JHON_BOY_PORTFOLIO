---
import ProjectDetailLava from '../../components/Details/ProjectDetailLava.astro';
import ProjectDetailFlourly from '../../components/Details/ProjectDetailFlourly.astro';
import ProjectDetailFrama from '../../components/Details/ProjectDetailFrama.astro';
import BaseLayout from '../../layouts/BaseLayout.astro';
import Menu from '../../components/MenuWithImage.astro';
import ProjectsSection from '../../components/PojectsSection.astro';
import MenuWorksImage from '../../images/white.png';


const pathname = Astro.url.pathname;
const slug = pathname.split('/').pop();

const projects = [
  { slug: 'lava-circular', component: ProjectDetailLava },
  { slug: 'flourly', component: ProjectDetailFlourly },
  { slug: 'frama', component: ProjectDetailFrama },
];

const project = projects.find(p => p.slug === slug);

const ProjectComponent = project?.component;
---
<script>
  import '@dotlottie/player-component';
</script>
<script src="../../scripts/lazy-loading-images.js"></script>
<script src="../../scripts/lazy-loading-lottie.js"></script>
<script src="../../scripts/scroll-restore.js"></script>
<script src="../../scripts/lava-slider.js"></script>
<script src="../../scripts/flourly-slider.js"></script>



<BaseLayout>
  <Menu 
    worksButtonClass="from-about"
    imageSrc={MenuWorksImage} 
    imageAlt="Illustration of a person resting"
  />
  <ProjectsSection 
    projectsSectionClass="projects opacity disabledButton"
    projectsImagesClass="opacity"
  />
  {ProjectComponent && <ProjectComponent />}
</BaseLayout>
