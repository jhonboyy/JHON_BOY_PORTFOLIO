---
import BaseLayout from '../layouts/BaseLayout.astro';
import AboutSection from '../components/AboutSection.astro';
import MenuImage from '../components/MenuWithImage.astro';
import MenuAboutImage from '../images/jhon-boy-illustration-works-page-person-upside-down.svg';

const fromPage = new URL(Astro.url, 'http://localhost').searchParams.get('from');

let worksMenuWithImageClasses = '';
let aboutMenuWithImageClasses = '';

if (!fromPage) {
  worksMenuWithImageClasses += 'animate-slide-up-works';
  aboutMenuWithImageClasses += 'animate-slide-up-about';
}

if (fromPage === 'works') {
  worksMenuWithImageClasses += 'from-about';
  aboutMenuWithImageClasses += 'animate-slide-up-about';
}

if (fromPage === 'index') {
  worksMenuWithImageClasses += 'animate-slide-up-works';
  aboutMenuWithImageClasses += 'animate-slide-up-about';
}
---
<BaseLayout dataPage="about">
  <MenuImage 
    menuImageClass="animate-fade-in"
    imageSrc={MenuAboutImage} 
    imageAlt="Illustration of a person upside down" 
    containerClass="aboutMenu"
    imageStyles="top: 100px;"
    headerClass="aboutMenu"
    worksButtonClass={worksMenuWithImageClasses}
    aboutButtonClass={`disabledButton ${aboutMenuWithImageClasses}`}
    worksLink="/works?from=about"
    aboutLink="/about"
  />
  <AboutSection aboutSectionClass="about animate-fade-in" />
</BaseLayout>
