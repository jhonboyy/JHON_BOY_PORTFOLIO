---
import { Image } from 'astro:assets';

import illustrationFrama2 from '../../images/jhon-boy-illustration-frama-tnwc-2.webp';
import illustrationFrama3 from '../../images/jhon-boy-illustration-frama-tnwc-3.webp';
import illustrationFrama4 from '../../images/jhon-boy-illustration-frama-tnwc-4.webp';
---

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const lazyImages = document.querySelectorAll('.lazy-image');
  
    lazyImages.forEach((image) => {
      // Asegurarse de que el elemento sea tratado como HTMLImageElement
      const imgElement = image as HTMLImageElement;
  
      imgElement.addEventListener('load', () => {
        imgElement.classList.add('loaded');
      });
  
      // Verificar si la imagen ya está cargada
      if (imgElement.complete) {
        imgElement.classList.add('loaded');
      }
    });
  });
   </script>
   <script>
  document.addEventListener('DOMContentLoaded', () => {
    const lazyLotties = document.querySelectorAll('.lazy-lottie');
  
    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const lottieContainer = entry.target;
          const lottiePlayer = lottieContainer.querySelector('dotlottie-player');
  
          // Asegúrate de que es un elemento específico del tipo correcto
          if (lottiePlayer && lottiePlayer instanceof HTMLElement) {
            const lottieSrc = lottiePlayer.getAttribute('data-src');
            if (lottieSrc) {
              lottiePlayer.setAttribute('src', lottieSrc); // Asigna el src dinámicamente
            }
          }
  
          // Añadir la clase 'loaded' para el fade-in
          lottieContainer.classList.add('loaded');
  
          // Dejar de observar este elemento, ya que ya fue cargado
          observer.unobserve(lottieContainer);
        }
      });
    });
  
    lazyLotties.forEach(lottie => {
      observer.observe(lottie);
    });
  });
   </script>
 
<section class="project-container" id="frama-container">
  <div class="project-container-top">
    <p class="text-left">BRANDING, ANIMATION, PRODUCT DESIGN</p>
    <p class="text-right">◷ 1 MIN READ</p>
  </div>
  <div class="project-container-mid frama">
    <p>
      <u>DO YOU LIKE WINE?</u><br> 
      This project represents the inaugural entry in the Personal Canvas series, a collaboration between <a href="https://framacph.com" target="_blank"><u>FRAMA</u></a> and <a href="https://thenaturalwinecompany.com" target="_blank"><u>The Natural Wine Company</u></a>. As an artist, I crafted the playful illustration featured on a limited-edition kitchen towel, designed to complement natural wine aesthetics. Drawing inspiration from Bacco, my artwork reflects the earthy terracottas and vibrant greens of the natural landscape, infusing each piece with the spirit of traditional winemaking.
    </p>
    <div class="lottie-container lazy-lottie" style="grid-column-start: 1; grid-column-end: 2; height: 100%; aspect-ratio: 12 / 9">
      <dotlottie-player src="/animations/frama-animation.lottie" speed="1" loop autoplay></dotlottie-player>
    </div>
    <p>
      <u>PROCESS</u><br>
      To add a dynamic touch to the static illustration, I incorporated subtle animation that introduces gentle movement, enhancing the visual impact without altering the narrative. This animation serves as a complementary action, adding a layer of engagement and emphasizing the natural elements depicted in the artwork.<br><br>The Personal Canvas series seeks to uncover and celebrate the intricate craft behind natural winemaking, highlighting the sustainable practices integral to this artisanal industry. By integrating traditional crafts such as weaving, glass-blowing, and winemaking, the project emphasizes the deep connection between human hands and heritage, bridging art with the innovative practices of natural wine production. The illustration and its animated extension serve not only as decorative art but also as a testament to the fusion of heritage and contemporary craftsmanship in natural winemaking.<br><br><a href="https://framacph.com/collections/towels/products/frama-the-natural-wine-company-kitchen-towel" target="_blank"><u>Buy the towel</u></a>
    </p>
    <Image class="lazy-image" style="grid-row-start: 4; grid-row-end: 5;" src={illustrationFrama2} width={1200} height={960} alt="wine ceramic barrel with the Jhon Boy Frama towel" />
    <Image class="lazy-image" style="grid-row-start: 5; grid-row-end: 6;" src={illustrationFrama3} width={1400} height={1750} alt="person holding the Jhon Boy Frama towel" />
    <Image class="lazy-image" style="grid-row-start: 6; grid-row-end: 7;" src={illustrationFrama4} width={1200} height={960} alt="table in the kitchen with the Jhon Boy Frama towel hanging in the back" />
    <p style="grid-column-start: 1; grid-column-end: 2;">
      <u>ART AND CREATIVE DIRECTION</u><br>
      <a href="https://www.instagram.com/valeriestt/" target="_blank"><u>Valerie Steenhaut</u></a><br>
      <a href="https://www.instagram.com/al.fr.edo.lo.pez/" target="_blank"><u>Alfredo López</u></a><br><br>
      <u>PRODUCT DESIGN</u><br>
      <a href="https://framacph.com" target="_blank"><u>Frama</u></a><br><br>
      <u>CREATIVITY</u><br>
      <a href="https://www.maria-elba.com" target="_blank"><u>María-Elba García</u></a><br><br>
      <u>ANIMATION</u><br>
      <a href="https://www.instagram.com/rjgrullon/" target="_blank"><u>Rafael Grullón</u></a><br><br>
      <u>PHOTOGRAPHY</u><br>
      <a href="http://www.migueltriano.com" target="_blank"><u>Miguel Triano</u></a><br><br>
    </p>
  </div>
  <div class="project-container-bot">
    <a id="framaCloseLink" href="/works?from=details"><u>CLOSE</u></a>
  </div>
</section>
