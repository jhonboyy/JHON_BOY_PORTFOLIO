---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectsSection from '../components/ProjectsSection.astro';
import MenuWithImage from '../components/MenuWithImage.astro';
import MenuWorksImage from '../../public/images/SVG/jhon-boy-illustration-works-page-person-resting.svg';

const fromPage = new URL(Astro.url, 'http://localhost').searchParams.get('from');

let worksMenuWithImageClasses = '';
let aboutMenuWithImageClasses = '';
let menuImageClasses = '';
let projectSectionClasses = '';
let projectsImagesClass = ''

if (!fromPage) {
  worksMenuWithImageClasses += 'animate-slide-up-works';
  menuImageClasses += 'animate-fade-in';
  projectSectionClasses += 'projects animate-fade-in'
}

if (fromPage === 'about') {
  worksMenuWithImageClasses += 'from-about';
  aboutMenuWithImageClasses += 'animate-slide-down-about';
  menuImageClasses += 'animate-fade-in';
  projectsImagesClass += 'lazy-image';
  projectSectionClasses += 'projects animate-fade-in'

}

if (fromPage === 'index') {
  worksMenuWithImageClasses += 'animate-slide-up-works';
  menuImageClasses += 'animate-fade-in';
  projectsImagesClass += 'lazy-image'
  projectSectionClasses += 'projects animate-fade-in'

}

if (fromPage === 'details') {
  worksMenuWithImageClasses += 'from-about';
  menuImageClasses += 'opacity';
  projectSectionClasses += 'projects opacity';
  projectsImagesClass += 'opacity'
}
---

<BaseLayout dataPage="works">
    <MenuWithImage 
      menuImageClass={menuImageClasses}
      imageSrc={MenuWorksImage} 
      imageAlt="Illustration of a person resting"
      imageStyles="top: 50px;"
      worksButtonClass=`disabledButton ${worksMenuWithImageClasses}`
      aboutButtonClass={aboutMenuWithImageClasses}
      aboutLink="/about?from=works"
      worksLink="/works"
    />

  <ProjectsSection 
  projectsSectionClass={projectSectionClasses}
  projectsImagesClass={projectsImagesClass}
  >
</BaseLayout>