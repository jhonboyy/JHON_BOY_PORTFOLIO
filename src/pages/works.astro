---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectsSection from '../components/PojectsSection.astro';
import MenuWithImage from '../components/MenuWithImage.astro';
import MenuWorksImage from '../images/jhon-boy-illustration-works-page-person-resting.svg';

const metaInfo = {
  title: "Works by Jhon Boy - Portfolio of Illustrations & Art",
  description: "Explore the portfolio of Jhon Boy, artist, illustrator and programmer from Tenerife, Canary Islands, showcasing a diverse range of illustrations and artwork. Discover his creative projects, unique style, and artistic techniques.",
  keywords: "Jhon Boy, portfolio, illustrations, artwork, illustration, design, art, colours, flat, projects, Tenerife, It's Nice That, Uniqlo, Lava Circular, Wix Playground, D&AD, Canary Islands, Programming, Ace&Tate",
  canonicalUrl: "https://jhonboy.com/works",
  ogImage: "https://jhonboy.com/og-image-works.jpg",
  twitterImage: "https://jhonboy.com/twitter-image-works.jpg"
};

const fromPage = new URL(Astro.url, 'http://localhost').searchParams.get('from');

let worksMenuWithImageClasses = '';
let aboutMenuWithImageClasses = '';

if (fromPage === 'about') {
  worksMenuWithImageClasses += 'from-about';
  aboutMenuWithImageClasses += 'animate-slide-down-about';
}

if (fromPage === 'index') {
  worksMenuWithImageClasses += 'animate-slide-up-works ';
}

if (fromPage === 'details') {
  worksMenuWithImageClasses += 'from-about';

}
---

<BaseLayout {...metaInfo} dataPage="works">

    <MenuWithImage 
      imageSrc={MenuWorksImage} 
      imageAlt="Illustration of a person resting"
      imageStyles="top: 50px;"
      worksButtonClass={worksMenuWithImageClasses}
      aboutButtonClass={aboutMenuWithImageClasses}
    />

  <ProjectsSection 
  projectsSectionClass="projects animate-fade-in"/>
</BaseLayout>


<script>
  function rightWorksButtons() {
    const buttons = [
      document.getElementById('buttonall'),
      document.getElementById('buttonpersonal'),
      document.getElementById('buttoncommercial')
    ];

    const allElements = document.querySelectorAll(".all");
    const commercialElements = document.querySelectorAll(".commercial");
    const personalElements = document.querySelectorAll(".personal");

    buttons.forEach(button => {
      button.addEventListener('click', function () {

        buttons.forEach(btn => btn.classList.remove("active"));

        if (button.id === 'buttonall') {
          button.classList.add("active");
          showElements(allElements);
        } else if (button.id === 'buttonpersonal') {
          button.classList.add("active");
          hideElements(commercialElements);
          showElements(personalElements);
        } else if (button.id === 'buttoncommercial') {
          button.classList.add("active");
          hideElements(personalElements);
          showElements(commercialElements);
        }
      });
    });

    function showElements(elements) {
      elements.forEach(element => element.style.display = "grid");
    }

    function hideElements(elements) {
      elements.forEach(element => element.style.display = "none");
    }
  }

  rightWorksButtons();
</script>
